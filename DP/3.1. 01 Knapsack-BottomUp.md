# 0/1 Knapsack Problem - Matrix Table Explanation & Dry Run

## Reminder: What We’re Solving

We’re solving the **0/1 Knapsack Problem** — trying to get the **maximum value** (fun) without going over a **weight limit**.

---

## Matrix Structure (Dynamic Programming Table)

Example: 3 items, bag capacity = 5

```
          Capacity →
Items ↓     0   1   2   3   4   5
        +--------------------------
Item 0 |  0   0   0   0   0   0
Item 1 |  0   0   3   3   3   3
Item 2 |  0   0   3   4   4   7
Item 3 |  0   0   3   4   5   7
```

### What Each Index Means

**Rows (i):**

* Row `i` means: you're considering the first `i` items
* Row 0 = no items
* Row 1 = first 1 item
* Row 2 = first 2 items
* Row 3 = first 3 items

**Columns (w):**

* Column `w` means: bag has capacity `w`
* Column 0 = no weight allowed → value is 0

### What Each Cell `dp[i][w]` Means

`dp[i][w]` = Maximum value you can get by picking from the first `i` items without exceeding capacity `w`

#### Example:

`dp[2][3] = 4`

* Consider first 2 items
* Bag capacity = 3
* Max value possible = 4 (by taking only Item 2)

---

## Table Builds Up Step-by-Step

Each cell is filled using:

* **Don’t take the item:** `dp[i][w] = dp[i-1][w]`
* **Take the item (if it fits):** `dp[i][w] = value[i-1] + dp[i-1][w - weight[i-1]]`

We take the maximum of the two.

---

## Dry Run

### Problem Setup:

| Item | Weight | Value |
| ---- | ------ | ----- |
| 1    | 2      | 3     |
| 2    | 3      | 4     |
| 3    | 4      | 5     |

Capacity = 5

### Matrix Setup

```
       w →   0   1   2   3   4   5
     i ↓
0      |  0   0   0   0   0   0
1      |  ?   ?   ?   ?   ?   ?
2      |  ?   ?   ?   ?   ?   ?
3      |  ?   ?   ?   ?   ?   ?
```

---

### Step 1: Row for Item 1 (weight 2, value 3)

| Capacity (w) | Include Item 1? | Max Value Logic            | Result |
| ------------ | --------------- | -------------------------- | ------ |
| 0            | No              | `dp[1][0] = dp[0][0]`      | 0      |
| 1            | No              | `dp[1][1] = dp[0][1]`      | 0      |
| 2            | Yes             | `max(0, 3 + dp[0][0]) = 3` | 3      |
| 3            | Yes             | `max(0, 3 + dp[0][1]) = 3` | 3      |
| 4            | Yes             | `max(0, 3 + dp[0][2]) = 3` | 3      |
| 5            | Yes             | `max(0, 3 + dp[0][3]) = 3` | 3      |

```
1      |  0   0   3   3   3   3
```

### Step 2: Row for Item 2 (weight 3, value 4)

| Capacity (w) | Include Item 2? | Max Value Logic                    | Result |
| ------------ | --------------- | ---------------------------------- | ------ |
| 0            | No              | `dp[2][0] = dp[1][0]`              | 0      |
| 1            | No              | `dp[2][1] = dp[1][1]`              | 0      |
| 2            | No              | `dp[2][2] = dp[1][2]`              | 3      |
| 3            | Yes             | `max(3, 4 + dp[1][0]) = 4`         | 4      |
| 4            | Yes             | `max(3, 4 + dp[1][1]) = 4`         | 4      |
| 5            | Yes             | `max(3, 4 + dp[1][2]) = max(3, 7)` | 7      |

```
2      |  0   0   3   4   4   7
```

### Step 3: Row for Item 3 (weight 4, value 5)

| Capacity (w) | Include Item 3? | Max Value Logic                    | Result |
| ------------ | --------------- | ---------------------------------- | ------ |
| 0            | No              | `dp[3][0] = dp[2][0]`              | 0      |
| 1            | No              | `dp[3][1] = dp[2][1]`              | 0      |
| 2            | No              | `dp[3][2] = dp[2][2]`              | 3      |
| 3            | No              | `dp[3][3] = dp[2][3]`              | 4      |
| 4            | Yes             | `max(4, 5 + dp[2][0]) = max(4, 5)` | 5      |
| 5            | Yes             | `max(7, 5 + dp[2][1]) = max(7, 5)` | 7      |

```
3      |  0   0   3   4   5   7
```

---

## Final Result

* `dp[3][5] = 7` → Max value for 5kg bag = 7

---

## Tracing Back Selected Items

Start at `dp[3][5] = 7`

1. `dp[3][5] == dp[2][5]` → Item 3 not taken
2. `dp[2][5] != dp[1][5]` → Item 2 taken (weight 3)
   → Go to `dp[1][2]`
3. `dp[1][2] != dp[0][2]` → Item 1 taken (weight 2)

### Selected Items:

* Item 1 (weight 2, value 3)
* Item 2 (weight 3, value 4)

**Total Weight:** 5
**Total Value:** 7 ✅
